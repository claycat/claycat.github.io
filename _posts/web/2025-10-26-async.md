# 무지성 비동기

# 잡설

최근 글을 쓸때 항상 초안만 직접 적고 인공지능을 활용해서 나머지를 적곤 했는데,

뭔가 글이 밋밋하다는 생각이 들곤 합니다.

좀 짜임새가 없더라도 글에서 사람냄새(?) 가 나면 더 잘 읽힌다고 느껴지더라구요.

회고라던지, 후기라던지.

그래서 이번엔 적어도 글쓰는것만이라도 러다이트 메타로 직접 써보려고 합니다.

# 서론

최근 회사에서 AX 트렌드를 수용하려고 하면서 다양한 기능들을 개발하게 되었는데요.

그 과정에서 있었던 이슈 하나를 소개해보겠습니다.

개발하게 된 기능은 AI를 통한 자동 내용 인식 기능인데요, 자세한 정보를 밝힐수는 없지만

간단히 요약하자면 PDF, JPG 등의 형태로 업로드 된 파일에서 원하는 정보를 추출하여 Form 에 채워넣는 형태입니다.

이 기능은 OCR로도 어느정도 구현이 가능하겠지만, 수기 입력된 필기체들이 있었기 때문에 AI를 활용하기로 결정하였습니다.

# 본론

문제는 해당 기능의 구현이 완료된 후 테스트 중 일어났습니다.

기능의 특성상 정보량이 많은 파일이 업로드 될 경우, AI의 응답 속도가 생각보다 느려지는 경우가 있었습니다.

(의외로 용량과는 전혀 관계없음)

이 경우, 일정 시간동안 응답이 없을 경우 단순하게 타임아웃이 나고 해당 요청이 실패하는 수준에서 끝난 것으로 파악하였습니다.

하지만 모니터링 팀에서 갑작스럽게 데이터베이스와 서버 메모리 부하가 높아져 서버를 재시작했다는 공지를 하였습니다.

당시에는 이 문제가 서로 직접적인 연관이 있을꺼란 생각은 못했는데, 수상할정도로 시간대가 겹치자 원인파악을 진행하게 되었습니다.

# Async + Transactional 동작에 대해서

# 해결방법

# NestJS에서는?
